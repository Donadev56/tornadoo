"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[567],{7238:(e,t,n)=>{n.d(t,{B:()=>s});let s={address:"0x6491574225A964f9A262299351fD62b8108f62aC",abi:[{inputs:[{internalType:"address",name:"ownerAddress",type:"address"},{internalType:"address",name:"_admins",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"string",name:"userId",type:"string"},{indexed:!1,internalType:"string",name:"uplineId",type:"string"},{indexed:!1,internalType:"string",name:"name",type:"string"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"userAddress",type:"address"},{indexed:!1,internalType:"string",name:"userId",type:"string"},{indexed:!1,internalType:"string",name:"uplineId",type:"string"},{indexed:!1,internalType:"string",name:"name",type:"string"}],name:"UserRegistered",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"string",name:"newName",type:"string"}],name:"newNameUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"user",type:"address"}],name:"newUrlUpdated",type:"event"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"AddressToCountId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"AdrToId",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"NumberOfUsers",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"checkBalanceAndUpdate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"countIdToAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"directDownlines",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"directDownlinesCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getDirectDownlines",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getDirectJoinersIn24Hours",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTopSponsors",outputs:[{components:[{internalType:"uint256",name:"downlineCount",type:"uint256"},{internalType:"address",name:"user",type:"address"}],internalType:"struct registration.downlineData[20]",name:"topSponsors",type:"tuple[20]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getTotalJoinersIn24Hours",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getTotalTeamSize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getUser",outputs:[{components:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"uplineId",type:"string"},{internalType:"string",name:"userId",type:"string"},{internalType:"string",name:"imgURL",type:"string"},{internalType:"uint256",name:"joiningDate",type:"uint256"},{internalType:"uint256",name:"countId",type:"uint256"},{internalType:"uint256",name:"uplineCountID",type:"uint256"}],internalType:"struct registration.User",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"isRegistered",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"lastUserId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"upline",type:"address"},{internalType:"string",name:"name",type:"string"}],name:"register",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"rf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"newUrl",type:"string"}],name:"setDefaultImgUrl",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"newUrl",type:"string"}],name:"setImgUrl",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newRf",type:"uint256"}],name:"setRf",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"newName",type:"string"}],name:"setUsername",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"",type:"string"}],name:"userIds",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"userUpline",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"users",outputs:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"uplineId",type:"string"},{internalType:"string",name:"userId",type:"string"},{internalType:"string",name:"imgURL",type:"string"},{internalType:"uint256",name:"joiningDate",type:"uint256"},{internalType:"uint256",name:"countId",type:"uint256"},{internalType:"uint256",name:"uplineCountID",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"usersById",outputs:[{internalType:"uint256",name:"downlineCount",type:"uint256"},{internalType:"address",name:"user",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"upline",type:"address"},{internalType:"address",name:"user",type:"address"},{internalType:"string",name:"name",type:"string"}],name:"x_registration",outputs:[],stateMutability:"nonpayable",type:"function"}]}},3567:(e,t,n)=>{n.d(t,{Xt:()=>i,Zd:()=>p,Zq:()=>l,dM:()=>u,fE:()=>c,gL:()=>a,nd:()=>o,yD:()=>d});var s=n(8862),r=n(7238);let a=async e=>{try{let t;let n=await y();if(!n.success)return{success:!1,response:"Failed to initialize Ethereum web3"};"string"!=typeof n.response&&(t=n.response.regContractInstance);let s=await t.methods.users(e).call();if(s)return{success:!0,response:s}}catch(e){return console.error("Error fetching user data:",e),{success:!1,response:"Error: ".concat(e||"Failed to get user data")}}},i=async e=>{try{let t;let n=await y();if(!n.success)return{success:!1,response:"Failed to initialize Ethereum web3"};"string"!=typeof n.response&&(t=n.response.regContractInstance);let s=await t.methods.isRegistered(e).call();if(s)return{success:!0,response:s}}catch(e){return console.error("Error checking if user is registered:",e),{success:!1,response:"Error: ".concat(e||"Failed to check user registration")}}},u=async e=>{try{let t;let n=await y();if(!n.success)return{success:!1,response:"Failed to initialize Ethereum web3"};"string"!=typeof n.response&&(t=n.response.regContractInstance);let s=await t.methods.getDirectDownlines(e).call();if(s)return{success:!0,response:s};return{success:!1,response:"No downlines found"}}catch(e){return console.error("Error checking directs :",e),{success:!1,response:"Error: ".concat(e||"Failed to check user directs")}}},o=async e=>{try{let t;let n=await y();if(!n.success)return{success:!1,response:"Failed to initialize Ethereum web3"};"string"!=typeof n.response&&(t=n.response.regContractInstance);let s={directDownlinesCount:0,teamSize:0,directDownlinesArray:[]},r=await t.methods.directDownlinesCount(e).call();if(r){s.directDownlinesCount=r;for(let n=0;n<s.directDownlinesCount;n++){let r=await t.methods.directDownlines(e,n).call();r&&s.directDownlinesArray.push(r)}}let a=await t.methods.getTotalTeamSize(e).call();return a&&(s.teamSize=a),{success:!0,response:s}}catch(e){return console.error("Error fetching user data:",e),{success:!1,response:"Error: ".concat(e||"Failed to get user data")}}},p=async()=>{try{let e;let t=await y();if(!t.success)return{success:!1,response:"Failed to initialize Ethereum web3"};"string"!=typeof t.response&&(e=t.response.regContractInstance);let n=await e.methods.NumberOfUsers().call();if(n)return{success:!0,response:n};return{success:!1,response:"User not found"}}catch(e){return console.error("Error checking  NumberOfUsers:",e),{success:!1,response:"Error: ".concat(e||"Failed to get NumberOfUsers")}}},c=async e=>{try{let t;let n=await y();if(!n.success)return{success:!1,response:"Failed to initialize Ethereum web3"};"string"!=typeof n.response&&(t=n.response.regContractInstance);let s=await t.methods.countIdToAddress(e).call();if(s)return{success:!0,response:s};return{success:!1,response:"User not found"}}catch(e){return console.error("Error checking if user address:",e),{success:!1,response:"Error: ".concat(e||"Failed to check user address")}}},l=async e=>{try{let t;let n=await y();if(!n.success)return{success:!1,response:"Failed to initialize Ethereum web3"};"string"!=typeof n.response&&(t=n.response.regContractInstance);let s=await (null==t?void 0:t.methods.getDirectJoinersIn24Hours(e).call()),r=await (null==t?void 0:t.methods.getTotalJoinersIn24Hours(e).call()),a={direct:Number(s),total:Number(r)};return{success:!0,response:a}}catch(e){return console.error("Error getting 24 hours team data:",e),{success:!1,response:"Error: ".concat(e||"Failed to get 24 hours team data")}}},d=async()=>{try{let e,t;let n=await y();if(n.success&&"string"!=typeof n.response&&(e=n.response.regContractInstance,t=n.response.web3),console.log("Web3 initialized successfully",t),console.log("MainContract instance created: ",e),!e)throw Error("Failed to create contract instance");let s=Number(await (null==t?void 0:t.eth.getBlockNumber()));console.log("Latest block: ",s);let r=await e.getPastEvents("allEvents",{fromBlock:s-3e3>=0?s-3e3:0,toBlock:"latest"}),a=[];if(r.forEach(e=>{"string"!=typeof e&&a.push(e)}),a&&a.length>0)return console.log("Found ".concat(a.length," events: "),a),{success:!0,response:a};return console.log("No events found."),{success:!1,response:"No events found."}}catch(e){return console.error("An error occurred while fetching contract events:",e),{success:!1,response:e}}},y=async()=>{try{let e=(await (0,s.D)()).response;if(!e)return{success:!1,response:"Failed to initialize Ethereum web3"};let t=new e.eth.Contract(r.B.abi,r.B.address);if(!t)return{success:!1,response:"Failed to initialize contract"};return{success:!0,response:{regContractInstance:t,web3:e}}}catch(e){return{success:!1,response:"Error: ".concat(e||"Failed to initialize contract")}}}},8862:(e,t,n)=>{n.d(t,{D:()=>r});var s=n(1054);let r=async()=>{try{let e="https://opbnb-mainnet-rpc.bnbchain.org",t=new s.ufN(e);if(t)return console.log("Connected to Ethereum network: ".concat(e)),{success:!0,response:t};throw Error("Failed to connect to Ethereum network")}catch(e){return console.error("An error occured during web3 initialization:",e),{success:!1,response:void 0}}}}}]);