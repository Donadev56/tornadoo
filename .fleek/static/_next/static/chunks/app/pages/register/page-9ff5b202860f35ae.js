(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[951],{1559:(e,r,s)=>{Promise.resolve().then(s.bind(s,7755))},744:(e,r,s)=>{"use strict";s.d(r,{V:()=>f});var t=s(5155),a=s(2115),o=s(1194),n=s.n(o),l=s(7038),i=s(5435),c=s(7152),d=s.n(c),u=s(4548),h=s(555),g=s(9577),m=s(119),p=s(5663),_=s(6876),v=s(5565),x=s(6046);let w=e=>{let{isOpen:r,toggleSidebar:s,setCanDisplay:a}=e,o=(0,x.useRouter)(),n=e=>{o.push(e)};return(0,t.jsxs)("aside",{className:"".concat(d().sidebar," ").concat(r?d().open:""),children:[(0,t.jsx)("div",{className:d().header,children:(0,t.jsx)(u.A,{className:d().closeIcon,size:30,onClick:()=>s})}),(0,t.jsx)("div",{className:d().image,children:(0,t.jsx)(v.default,{alt:"",className:d().imageSrc,src:l.A,width:130})}),(0,t.jsx)("nav",{className:d().nav,children:(0,t.jsxs)("ul",{children:[(0,t.jsxs)("li",{onClick:()=>n(_.B.home),children:[" ",(0,t.jsx)("div",{className:d().Icon,children:(0,t.jsx)(h.A,{})})," ",(0,t.jsx)("div",{className:d().element,children:"Home"})]}),(0,t.jsxs)("li",{onClick:()=>{a(!0)},children:[" ",(0,t.jsx)("div",{className:d().Icon,children:(0,t.jsx)(g.A,{})}),(0,t.jsx)("div",{className:d().element,children:" Documentation"})]}),(0,t.jsxs)("li",{onClick:()=>{n(_.B.register)},children:[" ",(0,t.jsx)("div",{className:d().Icon,children:(0,t.jsx)(m.A,{})}),(0,t.jsx)("div",{className:d().element,children:" register"})]}),(0,t.jsxs)("li",{onClick:()=>{window.open("https://t.me/TornaDoo_io")},children:[" ",(0,t.jsx)("div",{className:d().Icon,children:(0,t.jsx)(p.A,{})}),(0,t.jsx)("div",{className:d().element,children:"Telegram"})]})]})})]})},f=e=>{let{setCanDisplay:r}=e,[s,o]=(0,a.useState)(!1),c=()=>{o(!s)};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("section",{className:n().topBar,children:[(0,t.jsxs)("div",{className:n().left,children:[(0,t.jsx)(v.default,{alt:"",width:40,src:l.A}),(0,t.jsx)("div",{className:n().title,children:"Tornadoo"})]}),(0,t.jsx)("div",{className:n().right,children:(0,t.jsx)("div",{className:n().nav,children:(0,t.jsx)(i.A,{className:n().menu,size:30,onClick:c})})})]}),(0,t.jsx)(w,{setCanDisplay:r,isOpen:s,toggleSidebar:()=>c()})]})}},7755:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>w});var t=s(5155),a=s(2115),o=s(744),n=s(4851),l=s.n(n),i=s(1661),c=s(2110),d=s(8862),u=s(3567),h=s(7238);let g=async(e,r)=>{try{let s,t;let a=window.ethereum;await a.request({method:"eth_requestAccounts"});let o=(await a.request({method:"eth_accounts"}))[0];console.log("user address for registration  : ",o);let n=await m();if(!n.success)return{success:!1,response:"Failed to initialize Ethereum web3"};"string"!=typeof n.response&&(s=n.response.regContractInstance,t=n.response.web3);let l=await s.methods.rf().call();console.log("Registration fees:",l);let i=s.methods.register(e,r||"User").encodeABI(),c=await t.eth.estimateGas({from:o,to:s.options.address,value:l,data:i});console.log("estimate fees: ",c);let d=Math.floor(Number(c));console.log("Estimated gas:",c),console.log("Adjusted gas limit:",d);let u=await a.request({method:"eth_sendTransaction",params:[{from:o,to:null==s?void 0:s.options.address,value:t.utils.toHex(l),gas:t.utils.toHex(d),data:i}]});if(u)return console.log("Transaction successful:",u.transactionHash),{success:!0,response:u.transactionHash};return{success:!1,response:"Failed to register user"}}catch(e){return console.error("Error registering user:",e),{success:!1,response:"Error: ".concat(e||"Failed to register user")}}},m=async()=>{try{let e=(await (0,d.D)()).response;if(!e)return{success:!1,response:"Failed to initialize Ethereum web3"};let r=new e.eth.Contract(h.B.abi,h.B.address);if(!r)return{success:!1,response:"Failed to initialize contract"};return{success:!0,response:{regContractInstance:r,web3:e}}}catch(e){return{success:!1,response:"Error: ".concat(e||"Failed to initialize contract")}}};var p=s(6876),_=s(5323),v=s(6046);let x=()=>{let[e,r]=(0,a.useState)(!1),[s,n]=(0,a.useState)(""),[h,m]=(0,a.useState)(!1),[x,w]=(0,a.useState)(!1),[f,j]=(0,a.useState)(!1),[b,k]=(0,a.useState)(!1),[A,N]=(0,a.useState)(""),[y,E]=(0,a.useState)(""),[C,B]=(0,a.useState)(!1),[S,M]=(0,a.useState)(!1),I=e=>c.oR.success(e),z=e=>c.oR.error(e),F=e=>c.oR.warn(e),P=e=>c.oR.info(e),W=(0,v.useSearchParams)(),R=(0,v.useRouter)(),L=e=>{R.push(e)},U=(0,_.$)();(0,a.useEffect)(()=>{U.account&&console.log("User connected: ",U.account)},[U]);let q=async()=>{M(!0);try{let e="";if(b||(F("Please ensure you have entered all required fields"),M(!1)),!A){F("Please enter sponsor address"),M(!1);return}if(A.trim().startsWith("0x"))e=A;else if(A.includes("0x")){let r=A.indexOf("0x"),s=A.slice(r,r+42);42===s.length&&/^0x[a-fA-F0-9]{40}$/.test(s)&&(e=s,N(e))}else if(Number(A)){let r=await (0,u.fE)(Number(A));r.success&&r.response&&(e=r.response,N(e))}let r=await g(e.trim(),y);r.success?(I("User registered successfully"),setTimeout(()=>{L(p.B.dashboard)},1e3),M(!1)):(M(!1),z("Failed to register user: ".concat(r.response)),console.error("Error registering user:",r.response))}catch(e){M(!1),z("Error registering user: ".concat(e)),console.error("Error registering user:",e)}};(0,a.useEffect)(()=>{(async()=>{try{if(s.length>0)return;let e=await (0,i.W)();e.success&&e.response?(I("connceted with : ".concat(e.response.slice(0,7),"...")),n(e.response),T(e.response),D(e.response)):z("Failed to fetch user address: ".concat(e.response))}catch(e){console.error("Error fetching user address:",e)}})(),H(),Y()},[]);let D=async e=>{try{let r=await (0,u.Xt)(e);console.log("Is user registered:",null==r?void 0:r.response),(null==r?void 0:r.success)&&"boolean"==typeof r.response&&B(r.response)}catch(e){console.error("Error checking user registration:",e),z("Failed to check user registration: ".concat(e))}},H=async()=>{{let e=window.ethereum;console.log("Current chain ID:",await e.request({method:"eth_chainId"})),console.log("Current network is opBNB Mainnet."),m(!0)}},T=async e=>{try{let r=await (0,d.D)();if(!e){z("User address not found");return}let s=r.response;if(!s){z("Failed to initialize Ethereum web3");return}await s.eth.getBalance(e)>0?(j(!0),k(!0)):console.log("No fees found for this user")}catch(e){console.error("Error fetching user balance:",e)}},Y=async()=>{try{let e=W.get("ref");e?(w(!0),N(e)):console.log("No sponsor found in query parameters")}catch(e){console.error("Error fetching user sponsor:",e)}};return(0,a.useEffect)(()=>{h&&f&&x&&s.length>0&&k(!0)},[h,f,x,s]),(0,a.useEffect)(()=>{C&&P("You have already registered. Please login to access the platform.")},[C]),(0,t.jsxs)("div",{className:l().registration,children:[(0,t.jsx)("div",{className:l().blur}),(0,t.jsx)(o.V,{canDisplay:e,setCanDisplay:r}),(0,t.jsxs)("div",{className:l().regTitle,children:["Registration ",(0,t.jsx)("br",{})," in Tornadoo"]}),(0,t.jsx)("div",{className:l().container,children:(0,t.jsxs)("div",{className:l().card,children:[(0,t.jsxs)("div",{className:l().header,children:[(0,t.jsx)("h1",{children:"Sponsor address"}),(0,t.jsx)("input",{value:A,onChange:e=>N(e.target.value),type:"text",placeholder:"sponsor address"}),A&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h1",{children:"Your username"}),(0,t.jsx)("input",{value:y,onChange:e=>E(e.target.value),type:"text",placeholder:"name"})]})]}),!A&&(0,t.jsxs)("div",{className:l().hasSponsorCard,children:[(0,t.jsx)("div",{children:"Do you have a sponsor ? "}),(0,t.jsxs)("div",{className:l().buttons,children:[(0,t.jsx)("button",{onClick:()=>N("Your sponsor address goes here..."),className:l().cancelBtn,children:"Yes"}),(0,t.jsx)("button",{onClick:()=>N("0xD5d94896c3C37923568b8A798e925109794403F5"),className:l().confirmBtn,children:"Get a sponsor"})]})]}),(0,t.jsxs)("div",{className:l().steps,children:[(0,t.jsxs)("label",{style:{color:s.length>0?"darkorange":"white"},children:[(0,t.jsxs)("div",{style:{borderColor:s.length>0?"darkorange":"white"},className:l().circle,children:[" ",(0,t.jsx)("div",{style:{backgroundColor:s.length>0?"darkorange":"transparent",color:s.length>0?"darkorange":"transparent"},className:l().dot})," "]}),"address :"," ",s&&(0,t.jsxs)("div",{className:l().address,children:[" ",s.slice(0,10),"... "]})]}),(0,t.jsxs)("label",{style:{color:h?"darkorange":"white"},children:[(0,t.jsxs)("div",{style:{borderColor:h?"darkorange":"white"},className:l().circle,children:[" ",(0,t.jsx)("div",{style:{backgroundColor:h?"darkorange":"transparent",color:h?"darkorange":"transparent"},className:l().dot})," "]}),"Connected"]}),(0,t.jsxs)("label",{style:{color:f?"darkorange":"white"},children:[(0,t.jsxs)("div",{style:{borderColor:f?"darkorange":"white"},className:l().circle,children:[" ",(0,t.jsx)("div",{style:{backgroundColor:f?"darkorange":"transparent",color:f?"darkorange":"transparent"},className:l().dot})," "]}),"Fees"]}),(0,t.jsxs)("label",{style:{color:b?"darkorange":"white"},children:[(0,t.jsxs)("div",{style:{borderColor:b?"darkorange":"white"},className:l().circle,children:[" ",(0,t.jsx)("div",{style:{backgroundColor:b?"darkorange":"transparent",color:b?"darkorange":"transparent"},className:l().dot})," "]}),"Registration"]})]}),(0,t.jsx)("button",{onClick:q,className:l().checkButton,children:"Register"})]})}),S&&(0,t.jsx)("div",{className:l().loaderContainer,children:(0,t.jsx)("div",{className:l().loader})}),"      ",(0,t.jsx)(c.N9,{theme:"dark",style:{borderRadius:"10px"}})]})};function w(){return(0,t.jsx)(a.Suspense,{fallback:(0,t.jsx)("div",{style:{display:"grid",placeItems:"center"},children:"Loading..."}),children:(0,t.jsx)(_.j,{children:(0,t.jsx)(x,{})})})}},6876:(e,r,s)=>{"use strict";s.d(r,{B:()=>t});let t={register:"/pages/register",login:"/login",dashboard:"/pages/dashboard",profile:"/pages/profile",partners:"/pages/partners",team:"/pages/teamList",home:"/"}},1661:(e,r,s)=>{"use strict";s.d(r,{W:()=>t});let t=async()=>{try{let e=window.ethereum;e||console.log("No Ethereum browser detected!");let r=[];console.log("Metamask detected ...");try{r=await e.request({method:"eth_requestAccounts"})}catch(e){console.log(e)}let s=localStorage.getItem("savedAddress"),t=r[0];if(t)return console.log("Using connected address:",s),{success:!0,response:t};if(s)return console.log("Using saved address:",s),{success:!0,response:s};return{success:!1,response:"User address not found"}}catch(e){return console.error("Error fetching user address:",e),{success:!1,response:"Error: ".concat(e||"Failed to get user address")}}}},5323:(e,r,s)=>{"use strict";s.d(r,{$:()=>i,j:()=>l});var t=s(5155),a=s(2115),o=s(1054);let n=(0,a.createContext)(void 0),l=e=>{let{children:r}=e,[s,l]=(0,a.useState)(null),[i,c]=(0,a.useState)(null),d=null;d=window.ethereum;let u=async()=>{if(d)try{let e=new o.Ay$(d);await d.request({method:"eth_requestAccounts"});let r=await e.eth.getAccounts();l(e),c(r[0]),localStorage.setItem("isWalletConnected","true")}catch(e){console.error("Erreur de connexion au wallet :",e)}else alert("Veuillez installer MetaMask pour utiliser cette fonctionnalit\xe9.")};return(0,a.useEffect)(()=>{"true"===localStorage.getItem("isWalletConnected")&&u()},[]),(0,t.jsx)(n.Provider,{value:{web3:s,account:i,connectWallet:u,disconnectWallet:()=>{l(null),c(null),localStorage.removeItem("isWalletConnected")}},children:r})},i=()=>{let e=(0,a.useContext)(n);if(!e)throw Error("useWeb3 doit \xeatre utilis\xe9 dans un Web3Provider");return e}},9577:(e,r,s)=>{"use strict";s.d(r,{A:()=>n});var t=s(8602),a=s(2115),o=["size","color"];function n(e){var r=e.size,s=void 0===r?24:r,n=e.color,l=(0,t.$i)(e,o);return a.createElement("svg",(0,t._P)({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-book",width:s,height:s,viewBox:"0 0 24 24",stroke:void 0===n?"currentColor":n,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l),a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),a.createElement("path",{d:"M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0"}),a.createElement("path",{d:"M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0"}),a.createElement("line",{x1:"3",y1:"6",x2:"3",y2:"19"}),a.createElement("line",{x1:"12",y1:"6",x2:"12",y2:"19"}),a.createElement("line",{x1:"21",y1:"6",x2:"21",y2:"19"}))}},5663:(e,r,s)=>{"use strict";s.d(r,{A:()=>n});var t=s(8602),a=s(2115),o=["size","color"];function n(e){var r=e.size,s=void 0===r?24:r,n=e.color,l=(0,t.$i)(e,o);return a.createElement("svg",(0,t._P)({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-brand-telegram",width:s,height:s,viewBox:"0 0 24 24",stroke:void 0===n?"currentColor":n,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l),a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),a.createElement("path",{d:"M15 10l-4 4l6 6l4 -16l-18 7l4 2l2 6l3 -4"}))}},119:(e,r,s)=>{"use strict";s.d(r,{A:()=>n});var t=s(8602),a=s(2115),o=["size","color"];function n(e){var r=e.size,s=void 0===r?24:r,n=e.color,l=(0,t.$i)(e,o);return a.createElement("svg",(0,t._P)({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-door-enter",width:s,height:s,viewBox:"0 0 24 24",stroke:void 0===n?"currentColor":n,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l),a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),a.createElement("path",{d:"M13 12v.01"}),a.createElement("path",{d:"M3 21h18"}),a.createElement("path",{d:"M5 21v-16a2 2 0 0 1 2 -2h6m4 10.5v7.5"}),a.createElement("path",{d:"M21 7h-7m3 -3l-3 3l3 3"}))}},555:(e,r,s)=>{"use strict";s.d(r,{A:()=>n});var t=s(8602),a=s(2115),o=["size","color"];function n(e){var r=e.size,s=void 0===r?24:r,n=e.color,l=(0,t.$i)(e,o);return a.createElement("svg",(0,t._P)({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-home",width:s,height:s,viewBox:"0 0 24 24",stroke:void 0===n?"currentColor":n,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l),a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),a.createElement("polyline",{points:"5 12 3 12 12 3 21 12 19 12"}),a.createElement("path",{d:"M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7"}),a.createElement("path",{d:"M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6"}))}},4548:(e,r,s)=>{"use strict";s.d(r,{A:()=>n});var t=s(8602),a=s(2115),o=["size","color"];function n(e){var r=e.size,s=void 0===r?24:r,n=e.color,l=(0,t.$i)(e,o);return a.createElement("svg",(0,t._P)({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-x",width:s,height:s,viewBox:"0 0 24 24",stroke:void 0===n?"currentColor":n,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l),a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),a.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),a.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))}},7152:e=>{e.exports={sidebar:"sidebar_sidebar__k8S_j",open:"sidebar_open__XpP0h",header:"sidebar_header__hphfr",closeIcon:"sidebar_closeIcon__9P44d",nav:"sidebar_nav__LY0kv",image:"sidebar_image__y4UHN",element:"sidebar_element__fiLtx",Icon:"sidebar_Icon__P59XT"}},1194:e=>{e.exports={topBar:"topBar_topBar__Qm71h",left:"topBar_left__HXwjX",title:"topBar_title__uf59j",right:"topBar_right__uBGhj",nav:"topBar_nav__WO72M",menu:"topBar_menu__z5J2X"}},4851:e=>{e.exports={registration:"reg_registration__qOMrP",regTitle:"reg_regTitle__x0k9T",container:"reg_container__Q2cPA",card:"reg_card__RToFq",header:"reg_header__s8mbn",walletStatus:"reg_walletStatus__53qVe",warning:"reg_warning__Whkeo",steps:"reg_steps__74XNF",checkButton:"reg_checkButton__aFBVk",registrationFee:"reg_registrationFee__0MtVI",hasSponsorCard:"reg_hasSponsorCard__Y_B5q",buttons:"reg_buttons__lPc9g",blur:"reg_blur__oRL8K",circle:"reg_circle__JS5DQ",dot:"reg_dot__Jg4MI",loaderContainer:"reg_loaderContainer__yN_89",loader:"reg_loader__wbHWU",animloader:"reg_animloader__WQ9l2"}},7038:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t={src:"/_next/static/media/T7.5a85a3a5.png",height:1600,width:1600,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAP1BMVEVMaXFHFwCaNgCIOACzUwagYSF5JwDYbR2uXA6DPgpuPRCxbBnEahTPqY7CcECoglKTUxM1R1JrMgN3W09/QwfQrCE8AAAADnRSTlMAoBzZbeNvCWI7bPtK+nNf/B0AAAAJcEhZcwAALiMAAC4jAXilP3YAAAAzSURBVHicY2BAAHZOLhZOBgYGDlZuIQEeEIOfl4+ZnYGBgYlVUJgNrIZFhBGqmAMkAQcAKZwBClWC46wAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}}},e=>{var r=r=>e(e.s=r);e.O(0,[220,54,92,110,567,441,517,358],()=>r(1559)),_N_E=e.O()}]);