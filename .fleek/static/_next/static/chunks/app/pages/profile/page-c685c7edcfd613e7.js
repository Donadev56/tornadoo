(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[603],{9443:(e,s,a)=>{Promise.resolve().then(a.bind(a,9453))},3534:(e,s,a)=>{"use strict";a.d(s,{f:()=>S});var r=a(5155),t=a(1377),i=a(1493),l=a(5976),o=a(5531),n=a.n(o),c=a(835),d=a(8843),u=a(4832),p=a(7339),h=a(2981),m=a(3157),A=a(4194),g=a(2552),f=a(1671),_=a(3302),v=a(2115),b=a(6876),w=a(6046);let x=[{items:[{icon:c.A,label:"Dashboard"},{icon:t.A,path:b.B.profile,label:"Profile"},{icon:d.A,path:b.B.partners,label:"Partners"},{icon:u.A,path:b.B.team,label:"Team"}]},{items:[{icon:p.A,label:"Earnings"},{icon:h.A,label:"Airdrop"},{icon:p.A,label:"Billionaire Programme"},{icon:m.A,label:"Billionaire Salary"}]},{items:[{icon:A.A,label:"Blockchain"},{icon:g.A,label:"Exchange"},{icon:f.A,label:"Support"},{icon:_.A,path:b.B.home,label:"Logout"}]}],S=e=>{let{isSidebarOpen:s,setIsSidebarOpen:a}=e,[t,o]=(0,v.useState)(""),[c,d]=(0,v.useState)(x),u=(0,w.useRouter)(),p=e=>{u.push(e)};return(0,v.useEffect)(()=>{let e=()=>{window.screen.width>728&&a(!0)};return window.addEventListener("resize",e),e(),()=>{window.removeEventListener("resize",e)}},[a]),(0,v.useEffect)(()=>{if(""===t.trim())d(x);else{let e=t.toLowerCase();d(x.map(s=>({items:s.items.filter(s=>s.label.toLowerCase().includes(e))})).filter(e=>e.items.length>0))}},[t]),(0,r.jsxs)("div",{style:{transform:"".concat(s?"translateX(0px)":"translateX(-100%)")},className:n().sidebar,children:[(0,r.jsx)("div",{className:n().closeButton,onClick:()=>a(!1),children:(0,r.jsx)(i.A,{color:"grey",size:24})}),(0,r.jsxs)("div",{className:n().searchContainer,children:[(0,r.jsx)(l.A,{className:n().searchIcon}),(0,r.jsx)("input",{className:n().inputSearch,placeholder:"Search...",value:t,onChange:e=>o(e.target.value)})]}),(0,r.jsx)("div",{className:n().sidebarMenu,children:c.map((e,s)=>(0,r.jsx)("div",{className:n().divider,children:e.items.map((e,s)=>(0,r.jsxs)("div",{onClick:()=>p(e.path||b.B.dashboard),className:n().sidebarItem,children:[(0,r.jsx)(e.icon,{size:24}),(0,r.jsx)("span",{children:e.label})]},s))},s))})]})}},24:(e,s,a)=>{"use strict";a.d(s,{u:()=>u});var r=a(5155),t=a(2115),i=a(5865),l=a.n(i);let o={src:"/_next/static/media/logo.5a85a3a5.png",height:1600,width:1600,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAP1BMVEVMaXFHFwCaNgCIOACzUwagYSF5JwDYbR2uXA6DPgpuPRCxbBnEahTPqY7CcECoglKTUxM1R1JrMgN3W09/QwfQrCE8AAAADnRSTlMAoBzZbeNvCWI7bPtK+nNf/B0AAAAJcEhZcwAALiMAAC4jAXilP3YAAAAzSURBVHicY2BAAHZOLhZOBgYGDlZuIQEeEIOfl4+ZnYGBgYlVUJgNrIZFhBGqmAMkAQcAKZwBClWC46wAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8};var n=a(5435),c=a(1661),d=a(5565);let u=e=>{let{isSidebarOpen:s,setIsSidebarOpen:a}=e,[i,u]=(0,t.useState)("");return(0,t.useEffect)(()=>{(async()=>{try{let e=await (0,c.W)();e.success&&u(e.response)}catch(e){console.error("Failed to fetch user address:",e)}})()},[]),(0,r.jsxs)("section",{className:l().top,children:[s&&(0,r.jsx)("div",{onClick:()=>{a(!1)},className:l().overlay}),(0,r.jsxs)("div",{className:l().container,children:[(0,r.jsx)("div",{className:l().left,children:(0,r.jsx)("div",{className:l().logo,children:(0,r.jsx)(d.default,{alt:"",width:"50",src:o})})}),(0,r.jsxs)("div",{className:l().right,children:[(0,r.jsxs)("div",{className:l().address,children:[i.slice(0,4),"...",i.slice(i.length-4,i.length)]}),(0,r.jsx)(n.A,{size:40,className:l().menuElement,onClick:()=>a(!s)})]})]})]})}},9453:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>w});var r=a(5155),t=a(3770),i=a.n(t),l=a(2115),o=a(335),n=a(7028),c=a(24),d=a(3534),u=a(8756),p=a(2110),h=a(6876),m=a(6046),A=a(7174),g=a(5828);let f=(0,g.createServerReference)("7f6391aea4e383afcb92922130a5edd8eb6c4d838e",g.callServer,void 0,g.findSourceMapURL,"SaveImage");var _=a(3370);let v=(0,g.createServerReference)("7f0539186406ff8032ec6448c7fd012f9f3a46a04d",g.callServer,void 0,g.findSourceMapURL,"SaveUserData");var b=a(1661);function w(){let[e,s]=(0,l.useState)(u.A.src),[a,t]=(0,l.useState)(""),[g,w]=(0,l.useState)(""),[x,S]=(0,l.useState)(!1),y=e=>p.oR.success(e),j=e=>p.oR.error(e),E=(0,m.useRouter)(),N=e=>{E.push(e)};(0,l.useEffect)(()=>{(async()=>{let e=await (0,b.W)();e.success&&(console.log("user address : "+e.response),C(e.response))})()},[]);let C=async e=>{console.log("getting user data");let a=await (0,A.g)(e);a.success&&s(a.response);let r=await (0,_.A)(e);r.success&&"string"!=typeof r.response&&(t(r.response.name),w(r.response.email))},B=async()=>{try{let s=window.ethereum,r=[];console.log("Metamask detected ...");try{r=await s.request({method:"eth_requestAccounts"})}catch(e){console.log(e)}if(!r[0])return;if(!await I()){j("Failed to sign message with MetaMask.");return}if(e&&e!==u.A.src){let s={address:r[0],image:e},a=await f(s);console.log(a),a.success?(y("Successfully saved"),console.log("Profile updated successfully.")):(j("Failed to update profile."),console.error("Failed to update profile:",a.response))}else if(!a||!g){j("Please fill out both username and email fields.");return}if(g&&a){let e={address:r[0],name:a,email:g};(await v(e)).success&&(y("Successfully saved profile"),console.log("Profile updated successfully."),localStorage.setItem("email/".concat(r[0]),g),localStorage.setItem("username/".concat(r[0]),a))}setTimeout(()=>{N(h.B.dashboard)},500)}catch(e){console.error("An error occurred:",e)}},I=async()=>{try{let e=window.ethereum;if(!e)return alert("Metamask is not installed !"),!1;let s=(await e.request({method:"eth_requestAccounts"}))[0];if(await e.request({method:"personal_sign",params:["By signing this message, you confirm that you are the owner of the wallet address associated with this account. This action is required to authenticate your identity and will not incur any fees or execute any blockchain transactions.",s]}))return!0;return!1}catch(e){console.error("Erreur lors de la signature :",e)}},R=async()=>{try{let e=document.createElement("input");e.type="file",e.accept="image/*",e.click(),e.addEventListener("change",async e=>{var a;e.preventDefault();let r=e.target;if(null==r?void 0:null===(a=r.files)||void 0===a?void 0:a[0]){let e=r.files[0],a=await U(e);s(a)}})}catch(e){console.log("Error during file upload:",e)}},U=e=>new Promise((s,a)=>{let r=new FileReader;r.readAsDataURL(e),r.onload=()=>s(r.result),r.onerror=e=>a(e)});return(0,r.jsxs)("section",{className:i().profileEditor,children:[(0,r.jsx)(p.N9,{theme:"dark",style:{borderRadius:"10px"}}),(0,r.jsxs)("div",{className:i().left,children:[(0,r.jsx)(c.u,{isSidebarOpen:x,setIsSidebarOpen:S}),(0,r.jsx)(d.f,{isSidebarOpen:x,setIsSidebarOpen:S})]}),(0,r.jsxs)("div",{className:i().right,children:[(0,r.jsx)("div",{className:i().top,children:(0,r.jsxs)("div",{style:{position:"relative"},className:i().profileImage,children:[(0,r.jsx)("div",{className:i().avatar_gradient}),(0,r.jsx)(o.A,{style:{top:"40%",left:"40%",position:"absolute",zIndex:1e3}}),e?(0,r.jsx)("img",{onClick:R,src:e,alt:"Profile",className:i().avatarSrc}):(0,r.jsx)("div",{className:i().placeholderImage,children:"Upload Photo"}),(0,r.jsxs)("label",{className:i().editIcon,children:[(0,r.jsx)(n.A,{size:20}),(0,r.jsx)("input",{type:"file",accept:"image/*",onChange:R,style:{display:"none"}})]})]})}),(0,r.jsxs)("div",{className:i().form,children:[(0,r.jsxs)("div",{className:i().inputGroup,children:[(0,r.jsx)("label",{htmlFor:"username",children:"Username"}),(0,r.jsx)("input",{id:"username",type:"text",value:a,onChange:e=>t(e.target.value),placeholder:"Enter your username"})]}),(0,r.jsxs)("div",{className:i().inputGroup,children:[(0,r.jsx)("label",{htmlFor:"email",children:"Email"}),(0,r.jsx)("input",{id:"email",type:"email",value:g,onChange:e=>w(e.target.value),placeholder:"Enter your email address"})]}),(0,r.jsx)("button",{className:i().submitButton,onClick:()=>B(),children:"Save Changes"})]})]})]})}},6876:(e,s,a)=>{"use strict";a.d(s,{B:()=>r});let r={register:"/pages/register",login:"/login",dashboard:"/pages/dashboard",profile:"/pages/profile",partners:"/pages/partners",team:"/pages/teamList",home:"/"}},1661:(e,s,a)=>{"use strict";a.d(s,{W:()=>r});let r=async()=>{try{let e=window.ethereum;e||console.log("No Ethereum browser detected!");let s=[];console.log("Metamask detected ...");try{s=await e.request({method:"eth_requestAccounts"})}catch(e){console.log(e)}let a=localStorage.getItem("savedAddress"),r=s[0];if(r)return console.log("Using connected address:",a),{success:!0,response:r};if(a)return console.log("Using saved address:",a),{success:!0,response:a};return{success:!1,response:"User address not found"}}catch(e){return console.error("Error fetching user address:",e),{success:!1,response:"Error: ".concat(e||"Failed to get user address")}}}},5531:e=>{e.exports={sidebar:"side_sidebar__dZY8F",closeButton:"side_closeButton__7zPE2",sidebarMenu:"side_sidebarMenu__AJ47i",sidebarItem:"side_sidebarItem__F2wwO",inputSearch:"side_inputSearch__DCa2N",search:"side_search__ERXCI",searchContainer:"side_searchContainer__UfIDu",searchIcon:"side_searchIcon__adtgn",overlay:"side_overlay__dV_sr",divider:"side_divider__flYFw"}},5865:e=>{e.exports={top:"top_top__H_VPs",container:"top_container__tABoJ",address:"top_address__LtgwQ",menuElement:"top_menuElement__ySS3w",right:"top_right__1sWRd"}},3770:e=>{e.exports={profileEditor:"profile_profileEditor__y34Da",top:"profile_top__g_EFr",profileImage:"profile_profileImage__IGtlN",avatar_gradient:"profile_avatar_gradient__Q518D",animatedCercle:"profile_animatedCercle__6PY88",avatarSrc:"profile_avatarSrc__f8tDs",placeholderImage:"profile_placeholderImage__iS0g9",editIcon:"profile_editIcon__gi4po",form:"profile_form__dJupr",inputGroup:"profile_inputGroup__cJmE0",submitButton:"profile_submitButton__gD6rQ",right:"profile_right__nGGKC"}},3370:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});var r=a(5828);let t=(0,r.createServerReference)("7f4548573dd6d0fe0e3ca013162878cc284502159c",r.callServer,void 0,r.findSourceMapURL,"GetUserData")},7174:(e,s,a)=>{"use strict";a.d(s,{g:()=>t});var r=a(5828);let t=(0,r.createServerReference)("7f802a883db2e2e821f03872b8e6e35b0fecbf36c7",r.callServer,void 0,r.findSourceMapURL,"GetImage")},8756:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r={src:"/_next/static/media/p1.2331fbba.png",height:512,width:512,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAQlBMVEX/0KG/glvrroA+Hg9vOB5oOTYzDwz/2KkjBg19QyGSYz3BbDKLWTLTo4KqemWBRzfks4+XZ1XyxJfKp4S7oFGonFmV20TqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAPElEQVR4nB2KWQ7AIBCFUEdfx6V773/VRgkJPwBagoJZmI1eq0eh8bX2PkJnd+9jjoe53YK9pFQuyNsi/zd8AcUUzv9PAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}}},e=>{var s=s=>e(e.s=s);e.O(0,[915,92,110,652,441,517,358],()=>s(9443)),_N_E=e.O()}]);